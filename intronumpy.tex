\chapter{Introducción a Numpy\\ Introduction to Numpy}
\subsection{Vectores y matrices.} \index{Vectores! Definición en matlab} \index{Matrices! Definición en matlab} Una de las característica más interesantes de Matlab, es la posibilidad de crear fácilmente matrices. Se pueden crear de muchas maneras, la más elemental de todas ellas, emplea el operador de asignación $=$, y los símbolos especiales $[$, $]$, el punto y coma $;$ y la coma $,$. Las matrices se crean introduciendo los valores de sus elementos por filas, separados por comas o espacios. Una vez introducidos todos los elementos de una fila, se añade un punto y coma, o se pulsa la tecla \emph{intro}, y se añaden los elementos de la fila siguiente. El siguiente ejemplo muestra como crear una matriz de de dos filas y tres columnas:
\begin{verbatim}
 >> matriz23 =[ 1 3 4 ;3 5 -1]

matriz23 =

     1     3     4
     3     5    -1
\end{verbatim}
o también:
 \begin{verbatim}
  >> matriz23 =[ 1 3 4 
3 5 -1]

matriz23 =

     1     3     4
     3     5    -1
 \end{verbatim}

En el primer caso, se empleado el punto y coma para separar las filas y en el segundo se ha empleado la tecla \emph{intro}.  En ambos se emplea el símbolo $[$ para indicar a Matlab que queremos empezar a construir una matriz, y el símbolo $]$ para indicar a Matlab que hemos terminado de construirla. Una vez construida, Matlab nos devuelve en la ventana de comandos la Matriz completa. Matlab nos permite además emplear cada elemento de una matriz como si se tratase de una variable, es decir, se puede asignar  a los elementos de una matriz un valor numérico, el resultados de una operación o un valor guardado en otra variable:
\begin{verbatim}
>> a=1

a =

          1.00

>> b=2

b =

          2.00

>> mtr=[ a a+b a-b; 1 0.5 cos(0)]

mtr =

          1.00          3.00         -1.00
          1.00          0.50          1.00

>> 
\end{verbatim}

Matlab considera las matrices como la forma básica de sus variables, así para Matlab un escalar es una matriz de una fila por una columna. Un vector \emph{fila} de 3 elementos es una matriz de una fila por tres columnas y un vector \emph{columna} de tres elementos es una matriz de tres filas y una columna.

\paragraph*{Indexación.} \index{Indexación en matlab}Al igual que se hace en álgebra, Matlab es capaz de referirse a un elemento cualquiera de una matriz empleando índices para determinar su posición (fila y columna) dentro de la matriz.
\begin{equation*}
a=
\begin{pmatrix}
a_{11}&a_{12}&a_{13}\\
a_{21}&a_{22}&a_{23}\\
a_{31}&a_{32}&a_{33}
\end{pmatrix}
\end{equation*}

El criterio para referirse a un elemento concreto de una matriz, en Matlab es el mismo: se indica el nombre de la variable que contiene la matriz y a continuación, entre paréntesis y separados por una coma, el índice de su fila y después él de su columna:
 \begin{verbatim}
 >> a=[1 2 3; 4 5 6; 7 8 9]

a =

          1.00          2.00          3.00
          4.00          5.00          6.00
          7.00          8.00          9.00

>> a(1,2)

ans =

          2.00

>> a(2,1)

ans =

          4.00

>> 
 \end{verbatim}
 
Es interesante observar de nuevo cómo Matlab asigna por defecto el valor del elemento buscado a la variable \texttt{ans}. Como ya se ha dicho, es mejor asignar siempre una variable a los resultados, para asegurarnos de que no los perdemos al realizar nuevas operaciones:
\begin{verbatim}
>> a12=a(1,2)

a12 =

          2.00

>> a21=a(2,1)

a21 =

          4.00

>> 
\end{verbatim}
Ahora hemos creado dos variables nuevas que contienen los valores de los elementos $a_{12}$ y $a_{21}$ de la matriz $a$. 

Matlab puede seleccionar dentro de una matriz no solo elementos aislados, sino también submatrices completas. Para ello, emplea un símbolo reservado, el símbolo \emph{dos puntos} $:$. Este símbolo se emplea para recorrer valores desde un valor inicial hasta un valor final, con un incremento o paso fijo. La sintaxis es: \texttt{inicio:paso:fin}, por ejemplo podemos recorrer los números enteros de cero a 8 empleando un paso 2:
\begin{verbatim}
>> 0:2:8

ans =

             0          2.00          4.00          6.00          8.00

>> 
\end{verbatim}

El resultado nos da la lista de los números $0, 2, 4, 6, 8$.
Además, si no indicamos el tamaño del paso,  Matlab tomará por defecto un paso igual a uno. En este caso basta emplear un único símbolo \emph{dos puntos} para separar el valor de inicio del valor final:
 \begin{verbatim}
 >> 1:5

ans =

          1.00          2.00          3.00          4.00          5.00

>>
 \end{verbatim}
 
 Podemos emplear el símbolo \emph{dos puntos},\index{Indexación con el operador :} \index{": Operador de indexación} para obtener submatrices de una matriz dada. Así por ejemplo si construimos una matriz de cuatro filas por cinco columnas:
 \begin{verbatim}
 >> matriz=[1 2 4 5 6
3 5 -6 0 2
4 5 8 9 0
3 3 -1 2 0]

matriz =

          1.00          2.00          4.00          5.00          6.00
          3.00          5.00         -6.00          0.00          2.00
          4.00          5.00          8.00          9.00          0.00
          3.00          3.00         -1.00          2.00          0.00

>> 
 \end{verbatim}
 Podemos obtener el vector formado por los tres últimos elementos de su segunda fila:
 \begin{verbatim}
 >> fil=matriz(2,3:5)

fil =

         -6.00             0          2.00

>> 
 \end{verbatim}

 o la submatriz de tres filas por tres columnas formada por los elementos que ocupan las filas 2 a 4 y las columnas 3 a 5:
\begin{verbatim}
 >> subm=matriz(2:4,3:5)

 subm =

         -6.00          0                2.00
	          8.00          9.00             0  
         -1.00          2.00             0  

 >> 
\end{verbatim}

o el vector columna formado por su segunda columna completa:
\begin{verbatim}
>> matriz(1:4,2)

ans =

          2.00
          5.00
          5.00
          3.00

>> 
\end{verbatim} 

De hecho, si deseamos seleccionar todos los elementos en una fila o una columna, podemos emplear el símbolo \texttt{:} directamente sin indicar principio ni fin,

\begin{verbatim}

>> matriz(:,2)

ans =

          2.00
          5.00
          5.00
          3.00

>> matriz(3,:)
ans =

     4.00     5.00     8.00    9.00    0.00
\end{verbatim}
 
\label{index}A parte de la indexación típica del álgebra de los elementos de una matriz indicando su fila y columna, en Matlab es posible referirse a un  elemento de una matriz empleando un único índice. En este caso, Matlab cuenta los elementos por columnas, de arriba abajo y de izquierda a derecha, 

\begin{equation*}
A=
\begin{pmatrix}
a_1&a_4&a_7\\
a_2&a_5&a_8\\
a_3&a_6&a_9
\end{pmatrix}
\end{equation*}

Así por ejemplo, en una matriz $A$ de $3$ filas y $4$ columnas, 
\begin{verbatim}
>> A=[3 0 -1 0; 2 1 5 7; 1 3 9 8]
A =

     3     0    -1     0
     2     1     5     7
     1     3     9     8
\end{verbatim}
las expresiones,
\begin{verbatim}
>> A(2,3)

and =
     5
\end{verbatim}
y
\begin{verbatim}
>> A(8)

ans =
     5
\end{verbatim} 
hacen referencia al mismo elemento de la matriz $A$. 

\subsection{Funciones incluidas en Matlab.}\index{Funciónes! Funciones incluidas en matlab} 
Matlab incluye cientos de funciones. Estas funciones, están escritas con la misma filosofía que acabamos de describir aquí, es decir, admiten una o varias variables de entrada y devuelven sus resultados en una o varias funciones de salida. En algunos casos, se trata de ficheros de texto  guardados con la extensión \texttt{.m} iguales a los que nosotros podemos crear \footnote{En muchos casos las funciones incluidas en Matlab no están escritas en ficheros de texto accesibles para el usuario. Por razones de eficiencia, se trata de versiones de las funciones escritas por lo general en lenguaje C y compiladas.}. La manera de emplearlas desde la ventana de comandos de Matlab es idéntica a la descrita para las funciones creadas por el usuario. 

En la tabla \ref{tabfun}, se incluyen algunos ejemplos de las funciones matemáticas más corrientes. Son solo una pequeña muestra de las funciones disponibles. Para obtener una visión más completa de las funciones disponibles se aconseja emplear la ayuda de Matlab.

\begin{table}
\caption{Algunas funciones matemáticas en Matlab de uso frecuente}
\label{tabfun}
\begin{tabular}{c|c|c|c}
tipo&nombre&variables&función matemática\\
\hline
\hline
Trigonométrica&cos&y=cos(x)&coseno de un ángulo en radianes\\
\hline
Trigonométrica&sin&y=sin(x)&seno de un ángulo en radianes\\
\hline
Trigonométricas&tan&y=tan(x)&tangente de un ángulo en radianes\\
\hline
Trigonométricas&csc&y=csc(x)&cosecante de un ángulo en radianes\\
\hline
Trigonométricas&sec&y=sec(x)&secante de un ángulo en radianes\\
\hline
Trigonométricas&cot&y=cot(x)&cotangente de un ángulo en radianes\\

\hline
Trigonométricas&...&y=a...(x)&inversa de una función trigonométrica en radianes\\
&asin&y=asin(x)&ejemplo, arcoseno en radianes\\
\hline
\hline
Exponencial&exp&y=exp(x)&$e^x$\\
\hline
Exponencial&log&y=log(x)&logaritmo natural\\
\hline
Exponencial&log10&log10(x)&logaritmo en base 10\\
\hline
Exponecial&sqrt&y=sqrt(x)&$\sqrt(x)$\\
\hline
\hline
Redondeo&ceil&y=ceil(x)& redondeo hacia $+\infty$\\
\hline
Redondeo&floor&y=floor(x)&redondeo hacia $-\infty$\\
\hline
Redondeo&round&y=round(x)&redondeo al entero más próximo\\
\hline
Redondeo&fix&y=fix(x)&redondeo hacia $0$\\
\hline
Redondeo&rem&r=rem(x,y)&resto de la división entera de y entre x\\
\hline
\hline
Módulos&norm&y=norm(x)& módulo de un vector x\\
\hline
Módulos&abs&y=abs(x)&valor absoluto de x,(módulo de x si x es complejo)\\
\hline
Módulos&sign&y=sign(x)&función signo; 1 si x $>$ 0, -1 si x $<$ 0, 0 si x=0\\
\end{tabular}
\end{table}
